  <!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üìò PORTFOLIO KESIAPAN MASA DEPAN + LEMBAR KERJA</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', system-ui, -apple-system, sans-serif;
        }

        body {
            background: linear-gradient(145deg, #eef2f9 0%, #dfe8f3 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .app-container {
            max-width: 1100px;
            margin: 0 auto;
            background: rgba(255,255,255,0.9);
            backdrop-filter: blur(16px);
            border-radius: 48px;
            padding: 30px;
            box-shadow: 0 40px 80px -25px #142d47;
            border: 1px solid rgba(255,255,255,0.7);
        }

        /* tab navigasi */
        .tab-header {
            display: flex;
            gap: 15px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .tab-btn {
            background: white;
            border: 2px solid #d2e1f5;
            padding: 15px 35px;
            border-radius: 60px;
            font-weight: 700;
            font-size: 1.2rem;
            color: #1f3b5c;
            cursor: pointer;
            transition: all 0.2s;
            box-shadow: 0 8px 15px -10px #1f3b5c;
        }

        .tab-btn.active {
            background: #1f3b5c;
            border-color: #1f3b5c;
            color: white;
            box-shadow: 0 15px 25px -12px #0f2642;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        /* ===== KUIS SECTION ===== */
        .nav-numbers {
            background: white;
            border-radius: 40px;
            padding: 20px;
            margin-bottom: 25px;
            box-shadow: 0 10px 25px -15px #1f3b5c;
        }

        .legend {
            display: flex;
            gap: 25px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .dot-green { width: 20px; height: 20px; background: #2ecc71; border-radius: 20px; box-shadow: 0 0 0 3px #d5f5e0; }
        .dot-red { width: 20px; height: 20px; background: #e74c3c; border-radius: 20px; box-shadow: 0 0 0 3px #fadbd8; }
        .dot-blue { width: 20px; height: 20px; background: #1f3b5c; border-radius: 20px; box-shadow: 0 0 0 3px #bfd9ff; }

        .angka-grid {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
        }

        .num-btn {
            width: 48px;
            height: 48px;
            border-radius: 48px;
            border: 2px solid;
            font-weight: 700;
            font-size: 1.1rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: 0.15s;
        }

        .num-btn.completed {
            background: #2ecc71;
            border-color: #2ecc71;
            color: white;
        }

        .num-btn.active {
            border-color: #1f3b5c;
            background: #1f3b5c;
            color: white;
            transform: scale(1.1);
        }

        .num-btn:not(.completed) {
            background: white;
            color: #e74c3c;
            border-color: #e74c3c;
        }

        .slide-card {
            background: white;
            border-radius: 36px;
            padding: 30px;
            margin: 25px 0;
            box-shadow: 0 20px 35px -20px #1f3b5c;
        }

        .domain-tag {
            background: #1f3b5c;
            color: white;
            padding: 8px 25px;
            border-radius: 60px;
            display: inline-block;
            font-weight: 600;
            margin-bottom: 20px;
        }

        .soal-text {
            font-size: 1.6rem;
            font-weight: 700;
            color: #142d47;
            margin-bottom: 30px;
        }

        .opsi-item {
            display: flex;
            align-items: center;
            gap: 20px;
            background: #f5faff;
            border-radius: 60px;
            padding: 15px 25px;
            margin-bottom: 12px;
            border: 2px solid #d4e2f5;
            cursor: pointer;
        }

        .opsi-item.selected {
            border-color: #2ecc71;
            background: #e3f7e9;
        }

        .opsi-item input[type="radio"] {
            width: 24px;
            height: 24px;
            accent-color: #2ecc71;
        }

        .opsi-item label {
            flex: 1;
            font-size: 1.1rem;
            font-weight: 500;
            color: #1f3b5c;
            cursor: pointer;
        }

        .nav-buttons {
            display: flex;
            gap: 15px;
            margin-top: 25px;
        }

        .nav-btn, .hasil-btn {
            padding: 15px 30px;
            border-radius: 60px;
            font-weight: 600;
            font-size: 1.1rem;
            border: none;
            cursor: pointer;
            transition: 0.15s;
        }

        .nav-btn {
            background: white;
            border: 2px solid #c7daf5;
            color: #1f3b5c;
            flex: 1;
        }

        .nav-btn:hover:not(:disabled) {
            background: #1f3b5c;
            color: white;
        }

        .nav-btn:disabled {
            opacity: 0.3;
            cursor: not-allowed;
        }

        .hasil-btn {
            background: #1f3b5c;
            color: white;
            padding: 15px 40px;
            font-weight: 700;
            box-shadow: 0 15px 25px -12px #0f2642;
            flex: 0.8;
        }

        /* ===== HASIL + TINDAK LANJUT ===== */
        .hasil-card {
            background: white;
            border-radius: 40px;
            padding: 30px;
            margin-top: 30px;
            border: 2px solid #e1efff;
        }

        .progress-domain {
            margin: 20px 0;
        }

        .progress-bar-bg {
            background: #e5effa;
            height: 20px;
            border-radius: 30px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            border-radius: 30px;
            transition: width 0.5s;
        }

        .rekom-card {
            background: #f0f9ff;
            border-radius: 30px;
            padding: 25px;
            margin: 25px 0;
            border-left: 12px solid;
        }

        .rekom-tinggi { border-color: #2ecc71; background: #e1f7e8; }
        .rekom-sedang { border-color: #f39c12; background: #fff1db; }
        .rekom-rendah { border-color: #e74c3c; background: #ffe9e6; }

        /* ===== LEMBAR KERJA (PAPER) ===== */
        .worksheet-section {
            background: #fcf9f0;
            border-radius: 40px;
            padding: 40px;
            border: 2px dashed #b3a97c;
            background-image: linear-gradient(#f3efdf 1px, transparent 1px);
            background-size: 100% 40px;
            font-family: 'Courier New', monospace;
        }

        .paper-header {
            text-align: center;
            margin-bottom: 40px;
            border-bottom: 3px solid #9b8c5c;
            padding-bottom: 20px;
        }

        .paper-header h2 {
            font-size: 2.2rem;
            color: #3f2e1e;
            font-weight: 800;
        }

        .worksheet-item {
            margin-bottom: 35px;
            page-break-inside: avoid;
        }

        .worksheet-item h3 {
            font-size: 1.6rem;
            color: #4a3b24;
            border-left: 10px solid #a58c54;
            padding-left: 20px;
            margin-bottom: 20px;
        }

        .garis-jawab {
            border-bottom: 2px dotted #9b8c5c;
            margin: 15px 0;
            height: 30px;
        }

        .checkbox-grid {
            display: flex;
            flex-wrap: wrap;
            gap: 30px;
            margin: 20px 0;
        }

        .checkbox-item {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .checkbox-item input[type="checkbox"] {
            width: 22px;
            height: 22px;
        }

        .btn-download {
            background: #4a3b24;
            color: #fcf9f0;
            border: none;
            padding: 20px 50px;
            border-radius: 60px;
            font-size: 1.4rem;
            font-weight: 700;
            cursor: pointer;
            margin: 40px 0 20px;
            width: 100%;
            transition: 0.2s;
            border: 2px solid #fcf9f0;
        }

        .btn-download:hover {
            background: #2e2416;
            transform: scale(1.02);
        }

        .hidden {
            display: none;
        }
    </style>
</head>
<body>

<div class="app-container">
    <!-- Tab Navigator -->
    <div class="tab-header">
        <button class="tab-btn active" data-tab="quiz">üìù Kuis Kesiapan</button>
        <button class="tab-btn" data-tab="hasil">üìä Hasil & Tindak Lanjut</button>
        <button class="tab-btn" data-tab="worksheet">üìÑ Lembar Kerja (Paper)</button>
    </div>

    <!-- ===== TAB 1: KUIS ===== -->
    <div id="tab-quiz" class="tab-content active">
        <div class="nav-numbers">
            <div class="legend">
                <span class="legend-item"><span class="dot-green"></span> sudah dijawab</span>
                <span class="legend-item"><span class="dot-red"></span> belum dijawab</span>
                <span class="legend-item"><span class="dot-blue"></span> sedang aktif</span>
            </div>
            <div class="angka-grid" id="gridAngka"></div>
        </div>

        <div id="slideSoal"></div>

        <div class="nav-buttons">
            <button class="nav-btn" id="prevSoal" disabled>‚Üê Sebelumnya</button>
            <button class="nav-btn" id="nextSoal">Selanjutnya ‚Üí</button>
            <button class="hasil-btn" id="lihatHasilBtn">üîç Lihat Hasil & Rencana</button>
        </div>
    </div>

    <!-- ===== TAB 2: HASIL & TINDAK LANJUT ===== -->
    <div id="tab-hasil" class="tab-content">
        <div id="hasilContainer"></div>
    </div>

    <!-- ===== TAB 3: LEMBAR KERJA (PAPER) ===== -->
    <div id="tab-worksheet" class="tab-content">
        <div id="worksheetContainer" class="worksheet-section">
            <!-- akan diisi dinamis berdasarkan hasil kuis -->
        </div>
    </div>
</div>

<script>
(function() {
    // ===================== DATA SOAL (30 SOAL) =====================
    const soal30 = [
        "Saya yakin bisa bersaing di dunia kerja atau perkuliahan.",
        "Saya mampu menghadapi penolakan (lamaran ditolak / tidak diterima di PTN).",
        "Saya berani mengungkapkan pendapat dalam diskusi kelompok.",
        "Saya tidak mudah menyerah saat menghadapi kegagalan.",
        "Saya percaya diri saat wawancara atau presentasi.",
        "Saya mampu mengelola stres ketika tekanan datang.",
        "Saya terbiasa datang tepat waktu dalam setiap kegiatan.",
        "Saya mampu bekerja sama dalam tim dengan berbagai karakter orang.",
        "Saya aktif mencari informasi tentang karier atau kampus impian.",
        "Saya memiliki kebiasaan belajar atau mengasah skill secara rutin.",
        "Saya berani mengambil tanggung jawab lebih (organisasi/panitia).",
        "Saya bisa mengatur prioritas antara tugas, organisasi, dan istirahat.",
        "Saya sudah memiliki portofolio atau catatan prestasi (akademik/non).",
        "Saya mengenali minat dan bakat yang ingin saya kembangkan.",
        "Saya paham langkah-langkah melamar kerja atau mendaftar kuliah.",
        "Saya terbiasa membuat target jangka pendek dan mengevaluasinya.",
        "Saya mampu belajar hal baru secara mandiri (online/book).",
        "Saya memiliki kemampuan dasar komputer atau bahasa asing.",
        "Saya menjaga nama baik di media sosial.",
        "Saya mampu menerima kritik dan memperbaiki diri.",
        "Saya berani meminta maaf jika melakukan kesalahan.",
        "Saya menghormati atasan/dosen dan rekan.",
        "Saya bersikap profesional meskipun dalam situasi informal.",
        "Saya bertanggung jawab terhadap tugas yang diberikan.",
        "Saya sudah memiliki gambaran karier atau jurusan kuliah.",
        "Saya tahu cara membuat CV atau portofolio sederhana.",
        "Saya pernah mengikuti pelatihan / seminar pengembangan diri.",
        "Saya memiliki rencana cadangan jika rencana utama gagal.",
        "Saya mulai menabung atau merencanakan keuangan untuk masa depan.",
        "Saya memiliki mentor / role model yang bisa diajak diskusi."
    ];

    const domain30 = {
        "üß† Mental Tangguh": [0,1,2,3,4,5],
        "üìã Perilaku & Kebiasaan": [6,7,8,9,10,11],
        "üìö Kesiapan Akademik": [12,13,14,15,16,17],
        "ü§ù Sikap & Etika": [18,19,20,21,22,23],
        "üéØ Perencanaan Masa Depan": [24,25,26,27,28,29]
    };

    const opsi = [
        "ü´£ tidak sesuai saya",
        "ü§î kadang-kadang",
        "üôÇ cukup sering",
        "üòå sering, hampir selalu",
        "üöÄ sangat sesuai, selalu"
    ];

    const totalSoal = soal30.length;
    let jawaban = new Array(totalSoal).fill(null);
    let currentIndex = 0;

    // Elemen
    const gridAngka = document.getElementById('gridAngka');
    const slideSoal = document.getElementById('slideSoal');
    const prevSoal = document.getElementById('prevSoal');
    const nextSoal = document.getElementById('nextSoal');
    const lihatHasilBtn = document.getElementById('lihatHasilBtn');
    const hasilContainer = document.getElementById('hasilContainer');
    const worksheetContainer = document.getElementById('worksheetContainer');

    // Tab switching
    const tabBtns = document.querySelectorAll('.tab-btn');
    const tabContents = document.querySelectorAll('.tab-content');

    tabBtns.forEach(btn => {
        btn.addEventListener('click', () => {
            const tab = btn.dataset.tab;
            tabBtns.forEach(b => b.classList.remove('active'));
            tabContents.forEach(c => c.classList.remove('active'));
            btn.classList.add('active');
            document.getElementById(`tab-${tab}`).classList.add('active');
        });
    });

    // Render grid angka
    function renderGrid() {
        let html = '';
        for (let i = 0; i < totalSoal; i++) {
            const completed = jawaban[i] !== null;
            const active = (i === currentIndex);
            let kelas = 'num-btn';
            if (completed) kelas += ' completed';
            if (active) kelas += ' active';
            html += `<button class="${kelas}" data-index="${i}">${i+1}</button>`;
        }
        gridAngka.innerHTML = html;

        document.querySelectorAll('.num-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                const idx = parseInt(btn.dataset.index);
                if (!isNaN(idx)) {
                    currentIndex = idx;
                    renderSlide();
                    renderGrid();
                }
            });
        });
    }

    // Render slide
    function renderSlide() {
        const idx = currentIndex;
        let domain = '';
        for (let d in domain30) {
            if (domain30[d].includes(idx)) domain = d;
        }

        const selected = jawaban[idx];
        let html = `
            <div class="slide-card">
                <div class="domain-tag">${domain}</div>
                <div class="soal-text">${soal30[idx]}</div>
                <div class="opsi-container">
        `;

        opsi.forEach((opt, optIdx) => {
            const val = optIdx + 1;
            const selectedClass = (selected === val) ? 'selected' : '';
            html += `
                <div class="opsi-item ${selectedClass}" data-value="${val}">
                    <input type="radio" name="radioSlide" value="${val}" id="opt_${idx}_${optIdx}" ${selected === val ? 'checked' : ''}>
                    <label for="opt_${idx}_${optIdx}">${opt}</label>
                </div>
            `;
        });

        html += `</div></div>`;
        slideSoal.innerHTML = html;

        // Event listener
        document.querySelectorAll('.opsi-item').forEach(item => {
            item.addEventListener('click', function() {
                const radio = this.querySelector('input[type="radio"]');
                if (radio) {
                    radio.checked = true;
                    radio.dispatchEvent(new Event('change', { bubbles: true }));
                }
            });
        });

        document.querySelectorAll('input[name="radioSlide"]').forEach(radio => {
            radio.addEventListener('change', (e) => {
                const val = parseInt(e.target.value);
                jawaban[currentIndex] = val;
                document.querySelectorAll('.opsi-item').forEach(opt => opt.classList.remove('selected'));
                e.target.closest('.opsi-item').classList.add('selected');
                renderGrid();
                updateNavButtons();
            });
        });

        updateNavButtons();
    }

    function updateNavButtons() {
        prevSoal.disabled = (currentIndex === 0);
        nextSoal.disabled = (currentIndex === totalSoal - 1);
    }

    prevSoal.addEventListener('click', () => {
        if (currentIndex > 0) {
            currentIndex--;
            renderSlide();
            renderGrid();
        }
    });

    nextSoal.addEventListener('click', () => {
        if (currentIndex < totalSoal - 1) {
            currentIndex++;
            renderSlide();
            renderGrid();
        }
    });

    // ===================== ANALISIS HASIL =====================
    function hitungHasil() {
        const belum = jawaban.reduce((acc, val, idx) => val === null ? acc.concat(idx+1) : acc, []);
        if (belum.length > 0) {
            alert(`Masih ada ${belum.length} soal belum dijawab: nomor ${belum.join(', ')}`);
            return null;
        }

        let skorDomain = {};
        let total = 0;
        for (let d in domain30) {
            skorDomain[d] = 0;
            domain30[d].forEach(i => skorDomain[d] += jawaban[i]);
            total += skorDomain[d];
        }

        const persen = (total / 150) * 100;

        let profil, warnaRekom, rekomendasi, tindakLanjut;
        if (persen >= 80) {
            profil = "üî• SANGAT SIAP";
            warnaRekom = "rekom-tinggi";
            rekomendasi = "Kesiapan mental dan perilaku kamu sangat baik untuk menghadapi masa depan.";
            tindakLanjut = "‚û°Ô∏è Mulai bangun portofolio nyata, cari magang, asah skill wawancara, perluas jaringan.";
        } else if (persen >= 60) {
            profil = "üå± CUKUP SIAP";
            warnaRekom = "rekom-sedang";
            rekomendasi = "Kamu sudah punya fondasi, tapi masih perlu penguatan.";
            tindakLanjut = "‚û°Ô∏è Fokus pada domain dengan skor terendah. Ikut pelatihan soft skill, cari mentor.";
        } else {
            profil = "ü´Ç BUTUH PERSIAPAN INTENSIF";
            warnaRekom = "rekom-rendah";
            rekomendasi = "Kamu masih butuh banyak persiapan, tapi ini bisa dilatih.";
            tindakLanjut = "‚û°Ô∏è Mulai dari hal kecil: rutinitas belajar, gabung komunitas, konsultasi dengan guru BK, buat target mingguan.";
        }

        return { skorDomain, total, persen, profil, warnaRekom, rekomendasi, tindakLanjut };
    }

    // Tampilkan hasil di tab 2
    lihatHasilBtn.addEventListener('click', () => {
        const hasil = hitungHasil();
        if (!hasil) return;

        const { skorDomain, total, persen, profil, warnaRekom, rekomendasi, tindakLanjut } = hasil;

        let html = `
            <div class="hasil-card">
                <h2 style="font-size:2rem; margin-bottom:30px;">üìä Hasil Analisis Kesiapan</h2>
        `;

        for (let d in skorDomain) {
            const skor = skorDomain[d];
            const persenDomain = (skor / 30) * 100;
            let warna = persenDomain >= 70 ? '#2ecc71' : (persenDomain >= 50 ? '#f39c12' : '#e74c3c');
            html += `
                <div class="progress-domain">
                    <div style="display:flex; justify-content:space-between; margin-bottom:5px;">
                        <span style="font-weight:600;">${d}</span>
                        <span>${skor}/30</span>
                    </div>
                    <div class="progress-bar-bg">
                        <div class="progress-fill" style="width:${persenDomain}%; background:${warna};"></div>
                    </div>
                </div>
            `;
        }

        html += `
            <div style="font-size:2rem; text-align:center; margin:40px 0 20px;">
                ‚ú® Total: ${total}/150 (${Math.round(persen)}%)
            </div>
            <div class="rekom-card ${warnaRekom}">
                <h3 style="font-size:1.8rem; margin-bottom:15px;">${profil}</h3>
                <p style="font-size:1.2rem; margin-bottom:15px;">${rekomendasi}</p>
                <div style="background:white; padding:20px; border-radius:20px;">
                    <strong>üìã Tindak Lanjut:</strong>
                    <p style="margin-top:10px;">${tindakLanjut}</p>
                </div>
            </div>
        `;

        hasilContainer.innerHTML = html;
        
        // Pindah ke tab hasil
        document.querySelector('[data-tab="hasil"]').click();

        // Generate worksheet
        generateWorksheet(hasil);
    });

    // ===================== GENERATE LEMBAR KERJA (PAPER) =====================
    function generateWorksheet(hasil) {
        const { skorDomain, total, persen, profil } = hasil;

        // Cari 3 domain terendah
        const sortedDomains = Object.entries(skorDomain).sort((a,b) => a[1] - b[1]);
        const top3Lemah = sortedDomains.slice(0, 3);

        let html = `
            <div class="paper-header">
                <h2>üìú LEMBAR KERJA PERSIAPAN MASA DEPAN</h2>
                <p style="font-size:1.2rem; color:#5e4c32;">Nama: <span style="border-bottom:2px solid #9b8c5c; min-width:200px; display:inline-block;"> _________________ </span></p>
                <p style="margin-top:15px;">Tanggal: ${new Date().toLocaleDateString('id-ID')}</p>
            </div>

            <div class="worksheet-item">
                <h3>üìå RINGKASAN HASIL KUIS</h3>
                <p><strong>Total Skor:</strong> ${total}/150 (${Math.round(persen)}%) ‚Äî ${profil}</p>
                <p><strong>Skor per Domain:</strong></p>
                <ul style="margin-left:30px;">
        `;

        for (let d in skorDomain) {
            html += `<li>${d}: ${skorDomain[d]}/30</li>`;
        }

        html += `</ul></div>`;

        // Area prioritas
        html += `
            <div class="worksheet-item">
                <h3>üéØ PRIORITAS PENGUATAN (3 TERENDAH)</h3>
                <ol style="margin-left:30px; font-weight:bold;">
        `;
        top3Lemah.forEach(([domain, skor]) => {
            html += `<li>${domain} (${skor}/30)</li>`;
        });
        html += `</ol>`;

        // Rencana aksi
        html += `
            </div>
            <div class="worksheet-item">
                <h3>üìÖ RENCANA AKSI 30 HARI</h3>
                <p>Tuliskan target konkret yang akan kamu lakukan dalam 30 hari ke depan:</p>
                <div class="garis-jawab"></div>
                <div class="garis-jawab"></div>
                <div class="garis-jawab"></div>
            </div>

            <div class="worksheet-item">
                <h3>‚úÖ CEKLIS KEBIASAAN HARIAN</h3>
                <p>Beri tanda (‚úî) setiap hari jika melakukan:</p>
                <div class="checkbox-grid">
                    <div class="checkbox-item"><input type="checkbox"> Bangun pagi ‚â§ jam 5.30</div>
                    <div class="checkbox-item"><input type="checkbox"> Baca artikel pengembangan diri (15 menit)</div>
                    <div class="checkbox-item"><input type="checkbox"> Latihan public speaking</div>
                    <div class="checkbox-item"><input type="checkbox"> Menulis jurnal harian</div>
                    <div class="checkbox-item"><input type="checkbox"> Olahraga/meditasi</div>
                    <div class="checkbox-item"><input type="checkbox"> Belajar skill baru (30 menit)</div>
                </div>
            </div>

            <div class="worksheet-item">
                <h3>üìù RENCANA MENTORING</h3>
                <p>Siapa yang bisa menjadi mentor atau teman diskusimu?</p>
                <div class="garis-jawab"></div>
                <p>Apa yang ingin kamu diskusikan?</p>
                <div class="garis-jawab"></div>
                <div class="garis-jawab"></div>
            </div>

            <div class="worksheet-item">
                <h3>üí° IDE KONEKSI DUNIA NYATA</h3>
                <p>Cari 3 peluang: magang, kunjungan industri, atau kelas praktisi</p>
                <div class="garis-jawab"></div>
                <div class="garis-jawab"></div>
                <div class="garis-jawab"></div>
            </div>

            <div style="text-align:center; margin:50px 0 20px;">
                <p style="font-style:italic;">"Masa depan adalah milik mereka yang mempersiapkannya hari ini."</p>
            </div>
        `;

        html += `<button class="btn-download" onclick="cetakWorksheet()">üì• DOWNLOAD LEMBAR KERJA (PDF)</button>`;
        worksheetContainer.innerHTML = html;
    }

    window.cetakWorksheet = function() {
        const content = document.getElementById('worksheetContainer').innerHTML;
        const printWindow = window.open('', '_blank');
        printWindow.document.write(`
            <html>
                <head>
                    <title>Lembar Kerja Persiapan Masa Depan</title>
                    <style>
                        body { font-family: 'Courier New', monospace; padding: 40px; background: #fcf9f0; }
                        .worksheet-section { max-width: 800px; margin: 0 auto; }
                        ${document.querySelector('style').innerHTML}
                    </style>
                </head>
                <body>
                    <div class="worksheet-section">
                        ${content}
                    </div>
                    <script>
                        window.onload = function() { window.print(); }
                    <\/script>
                </body>
            </html>
        `);
        printWindow.document.close();
    };

    // Inisialisasia
    renderGrid();
    renderSlide();

    // Generate worksheet awal (placeholder)
    generateWorksheet({
        skorDomain: {
            "üß† Mental Tangguh": 18,
            "üìã Perilaku & Kebiasaan": 15,
            "üìö Kesiapan Akademik": 20,
            "ü§ù Sikap & Etika": 25,
            "üéØ Perencanaan Masa Depan": 12
        },
        total: 90,
        persen: 60,
        profil: "üå± CUKUP SIAP"
    });
})();
</script>

</body>
</html>
